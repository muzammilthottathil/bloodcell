<%- include('partials/header.ejs') -%>
<body>
    <%- include('partials/navbar.ejs') -%>
    <div>
        <form action="/admin/hospitals/<%= hospital.name %>/edit" onsubmit="return checkPhoneNo()" method="POST">
            <div>
                <label for="hospitalName">Hospital Name : </label>
                <input type="text" name="hospitalName" id="" value="<%= hospital.name %>" required>
            </div>
            <div>
                <label for="address">Street Address: </label>
                <input type="text" name="address" id="" value="<%= hospital.street_address %>" required>
            </div>
            <div>
                <label for="landmark">Landmark : </label>
                <input type="text" name="landmark" id="" value="<%= hospital.landmark %>" required>
            </div>
            <div>
                <label for="contactNo">Contact No : </label>
                <input type="text" name="contactNo" id="contactNo" value="<%= hospital.contact_no %>" required>
            </div>

            <div>
                <button type="submit">Submit</button>
            </div>
        </form>
    </div>

    <script lang="javascript">
        function checkPhoneNo() {
            let phoneNo = document.getElementById("contactNo").value;

            if(phoneNo.length < 10) {
                alert('Enter a valid phone no.!!!');
                return false;
            }
            
            for(let i = 0; i <= phoneNo.length; i++) {
                let currChar = phoneNo.charAt(i);
                if(isNaN(currChar) && currChar != ' ') {
                    alert('Enter valid phone no.!!!');
                    return false;
                }
            }
            return true;
        }
    </script>
</body>